# å‘å¸ƒæŒ‡å—

æœ¬æ–‡æ¡£æä¾›è¯¦ç»†çš„ NPM åŒ…å‘å¸ƒæ­¥éª¤å’Œæ³¨æ„äº‹é¡¹ã€‚

## ğŸ“‹ å‘å¸ƒå‰æ£€æŸ¥æ¸…å•

åœ¨å‘å¸ƒä¹‹å‰ï¼Œè¯·ç¡®ä¿å®Œæˆä»¥ä¸‹æ£€æŸ¥ï¼š

### 1. ä»£ç è´¨é‡æ£€æŸ¥

- [ ] æ‰€æœ‰ç»„ä»¶åŠŸèƒ½æ­£å¸¸
- [ ] ä»£ç å·²ç»è¿‡æµ‹è¯•
- [ ] æ²¡æœ‰æ§åˆ¶å°é”™è¯¯æˆ–è­¦å‘Š
- [ ] ä»£ç ç¬¦åˆè§„èŒƒ

### 2. æ–‡æ¡£æ£€æŸ¥

- [ ] README.md å†…å®¹å®Œæ•´
- [ ] API.md æ–‡æ¡£æ›´æ–°
- [ ] CHANGELOG.md è®°å½•äº†æœ¬æ¬¡æ›´æ–°
- [ ] ç¤ºä¾‹ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œ

### 3. é…ç½®æ–‡ä»¶æ£€æŸ¥

- [ ] package.json ç‰ˆæœ¬å·å·²æ›´æ–°
- [ ] package.json ä¸­çš„ä¿¡æ¯å‡†ç¡®ï¼ˆname, description, keywords, author ç­‰ï¼‰
- [ ] package.json çš„ repositoryã€bugsã€homepage å­—æ®µå·²å¡«å†™
- [ ] peerDependencies ç‰ˆæœ¬èŒƒå›´åˆç†
- [ ] files å­—æ®µåŒ…å«äº†æ‰€æœ‰éœ€è¦å‘å¸ƒçš„æ–‡ä»¶

### 4. æ„å»ºæ£€æŸ¥

- [ ] æ‰§è¡Œ `npm run build` æˆåŠŸ
- [ ] dist ç›®å½•ç”Ÿæˆæ­£ç¡®çš„æ–‡ä»¶
- [ ] æ ·å¼æ–‡ä»¶æ­£å¸¸ç”Ÿæˆ

### 5. ä¾èµ–æ£€æŸ¥

- [ ] dependencies ä¸­åªåŒ…å«è¿è¡Œæ—¶éœ€è¦çš„ä¾èµ–
- [ ] devDependencies ä¸­åŒ…å«å¼€å‘æ—¶éœ€è¦çš„ä¾èµ–
- [ ] peerDependencies æ­£ç¡®å£°æ˜äº†å®¿ä¸»é¡¹ç›®éœ€è¦å®‰è£…çš„ä¾èµ–

## ğŸš€ å‘å¸ƒæ­¥éª¤

### æ­¥éª¤ 1ï¼šç™»å½• NPM

å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å‘å¸ƒï¼Œéœ€è¦å…ˆç™»å½• NPMï¼š

```bash
npm login
```

è¾“å…¥æ‚¨çš„ NPM è´¦å·ä¿¡æ¯ï¼š
- Username: æ‚¨çš„ NPM ç”¨æˆ·å
- Password: æ‚¨çš„ NPM å¯†ç 
- Email: æ‚¨çš„é‚®ç®±

éªŒè¯ç™»å½•çŠ¶æ€ï¼š

```bash
npm whoami
```

### æ­¥éª¤ 2ï¼šç¡®ä¿åœ¨æ­£ç¡®çš„æº

ç¡®ä¿ä½¿ç”¨ NPM å®˜æ–¹æºï¼ˆè€Œä¸æ˜¯æ·˜å®é•œåƒç­‰ï¼‰ï¼š

```bash
# æŸ¥çœ‹å½“å‰æº
npm config get registry

# å¦‚æœä¸æ˜¯å®˜æ–¹æºï¼Œä¸´æ—¶åˆ‡æ¢
npm config set registry https://registry.npmjs.org/
```

### æ­¥éª¤ 3ï¼šæ›´æ–°ç‰ˆæœ¬å·

æ ¹æ®æ›´æ–°ç±»å‹é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬å·ï¼š

```bash
# ä¿®å¤ bugï¼ˆ1.0.0 -> 1.0.1ï¼‰
npm version patch

# æ–°å¢åŠŸèƒ½ï¼Œå‘åå…¼å®¹ï¼ˆ1.0.0 -> 1.1.0ï¼‰
npm version minor

# é‡å¤§æ›´æ–°ï¼Œä¸å‘åå…¼å®¹ï¼ˆ1.0.0 -> 2.0.0ï¼‰
npm version major
```

æˆ–è€…æ‰‹åŠ¨ä¿®æ”¹ `package.json` ä¸­çš„ `version` å­—æ®µã€‚

### æ­¥éª¤ 4ï¼šæ›´æ–° CHANGELOG

åœ¨ `CHANGELOG.md` ä¸­è®°å½•æœ¬æ¬¡æ›´æ–°çš„å†…å®¹ï¼š

```markdown
## [1.0.1] - 2026-02-04

### ä¿®å¤
- ä¿®å¤è¡¨æ ¼è¾¹æ¡†æ ·å¼é—®é¢˜
- ä¼˜åŒ–æœç´¢æ¡†å“åº”é€Ÿåº¦

### æ–°å¢
- æ–°å¢å¯¼å‡ºåŠŸèƒ½
```

### æ­¥éª¤ 5ï¼šæäº¤ä»£ç ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½¿ç”¨ Git ç®¡ç†ï¼š

```bash
git add .
git commit -m "chore: release v1.0.1"
git tag v1.0.1
git push origin main --tags
```

### æ­¥éª¤ 6ï¼šæ¸…ç†å’Œæ„å»º

```bash
# æ¸…ç†æ—§çš„æ„å»ºæ–‡ä»¶
rm -rf dist

# é‡æ–°æ„å»º
npm run build
```

éªŒè¯æ„å»ºç»“æœï¼š

```bash
ls -la dist/
```

åº”è¯¥çœ‹åˆ°ä»¥ä¸‹æ–‡ä»¶ï¼š
- `ai-table-components.es.js` - ES æ¨¡å—æ ¼å¼
- `ai-table-components.umd.js` - UMD æ ¼å¼
- `ai-table-components.css` - æ ·å¼æ–‡ä»¶

### æ­¥éª¤ 7ï¼šæµ‹è¯•æ‰“åŒ…ç»“æœï¼ˆæ¨èï¼‰

åœ¨å‘å¸ƒå‰ï¼Œå¯ä»¥å…ˆæµ‹è¯•æ‰“åŒ…ï¼š

```bash
# åˆ›å»º tarball åŒ…
npm pack

# ä¼šç”Ÿæˆä¸€ä¸ª .tgz æ–‡ä»¶ï¼Œå¦‚ï¼šai-table-components-1.0.1.tgz
```

åœ¨æµ‹è¯•é¡¹ç›®ä¸­å®‰è£…æµ‹è¯•ï¼š

```bash
cd /path/to/test-project
npm install /path/to/ai-table-components-1.0.1.tgz
```

æµ‹è¯•æ— è¯¯ååˆ é™¤ .tgz æ–‡ä»¶ï¼š

```bash
rm ai-table-components-1.0.1.tgz
```

### æ­¥éª¤ 8ï¼šå‘å¸ƒåˆ° NPM

æ‰§è¡Œå‘å¸ƒå‘½ä»¤ï¼š

```bash
npm publish
```

**æ³¨æ„äº‹é¡¹ï¼š**

1. å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å‘å¸ƒï¼ŒåŒ…åä¸èƒ½ä¸å·²æœ‰çš„åŒ…é‡å¤
2. å¦‚æœåŒ…åå¸¦æœ‰ scopeï¼ˆå¦‚ @yourname/packageï¼‰ï¼Œéœ€è¦ä½¿ç”¨ï¼š
   ```bash
   npm publish --access public
   ```
3. å‘å¸ƒæˆåŠŸåï¼Œç­‰å¾…å‡ åˆ†é’Ÿè®© NPM åŒæ­¥æ•°æ®

### æ­¥éª¤ 9ï¼šéªŒè¯å‘å¸ƒ

å‘å¸ƒæˆåŠŸåï¼ŒéªŒè¯åŒ…æ˜¯å¦å¯ç”¨ï¼š

```bash
# æŸ¥çœ‹åŒ…ä¿¡æ¯
npm view ai-table-components

# æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬
npm view ai-table-components version

# æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬
npm view ai-table-components versions
```

æˆ–è®¿é—® NPM ç½‘ç«™æŸ¥çœ‹ï¼š
```
https://www.npmjs.com/package/ai-table-components
```

### æ­¥éª¤ 10ï¼šåœ¨æµ‹è¯•é¡¹ç›®ä¸­éªŒè¯

åœ¨ä¸€ä¸ªå…¨æ–°çš„é¡¹ç›®ä¸­å®‰è£…å¹¶æµ‹è¯•ï¼š

```bash
npm install ai-table-components
```

## ğŸ”„ å‘å¸ƒåæ“ä½œ

### 1. æ¢å¤ npm æºï¼ˆå¦‚æœä¹‹å‰ä¿®æ”¹è¿‡ï¼‰

```bash
npm config set registry https://registry.npmmirror.com/
```

### 2. å‘å¸ƒ GitHub Releaseï¼ˆå¯é€‰ï¼‰

å¦‚æœä½¿ç”¨ GitHubï¼š

1. è®¿é—®é¡¹ç›®çš„ Releases é¡µé¢
2. åˆ›å»ºæ–°çš„ Release
3. é€‰æ‹©åˆšæ‰åˆ›å»ºçš„ tag
4. å¡«å†™ Release Notesï¼ˆå¯ä»¥ä» CHANGELOG å¤åˆ¶ï¼‰
5. å‘å¸ƒ

### 3. é€šçŸ¥ç”¨æˆ·

- æ›´æ–°é¡¹ç›®æ–‡æ¡£
- åœ¨ç¤¾äº¤åª’ä½“æˆ–å›¢é˜Ÿä¸­é€šçŸ¥
- å‘å¸ƒæ›´æ–°å…¬å‘Š

## âš ï¸ æ³¨æ„äº‹é¡¹

### åŒ…åæ³¨æ„äº‹é¡¹

1. **åŒ…åå”¯ä¸€æ€§**ï¼šç¡®ä¿åŒ…ååœ¨ NPM ä¸Šæ˜¯å”¯ä¸€çš„
2. **å‘½åè§„èŒƒ**ï¼šä½¿ç”¨å°å†™å­—æ¯ã€è¿å­—ç¬¦ï¼Œé¿å…ç‰¹æ®Šå­—ç¬¦
3. **ä½œç”¨åŸŸåŒ…**ï¼šå¦‚æœæ˜¯ä¸ªäººæˆ–ç»„ç»‡çš„åŒ…ï¼Œè€ƒè™‘ä½¿ç”¨ scoped package

### ç‰ˆæœ¬å·è§„èŒƒ

éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰ï¼š

- **ä¸»ç‰ˆæœ¬å·ï¼ˆMajorï¼‰**ï¼šä¸å…¼å®¹çš„ API ä¿®æ”¹
- **æ¬¡ç‰ˆæœ¬å·ï¼ˆMinorï¼‰**ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **ä¿®è®¢å·ï¼ˆPatchï¼‰**ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

### å‘å¸ƒæƒé™

1. ç¡®ä¿æœ‰å‘å¸ƒæƒé™ï¼ˆè‡ªå·±çš„åŒ…æˆ–è¢«æˆæƒçš„åŒ…ï¼‰
2. å¦‚æœæ˜¯å›¢é˜ŸåŒ…ï¼Œç¡®ä¿å·²åŠ å…¥å›¢é˜Ÿ

### å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ä¸è¦å‘å¸ƒæ•æ„Ÿä¿¡æ¯**ï¼šæ£€æŸ¥ .npmignore å’Œ .gitignore
2. **æ£€æŸ¥ä¾èµ–å®‰å…¨**ï¼šä½¿ç”¨ `npm audit` æ£€æŸ¥æ¼æ´
3. **éªŒè¯åŒ…å†…å®¹**ï¼šä½¿ç”¨ `npm pack` é¢„è§ˆåŒ…å†…å®¹

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. å‘å¸ƒå¤±è´¥ï¼š403 Forbidden

åŸå› ï¼šæ²¡æœ‰å‘å¸ƒæƒé™æˆ–åŒ…åå·²å­˜åœ¨

è§£å†³ï¼š
```bash
# æ£€æŸ¥ç™»å½•çŠ¶æ€
npm whoami

# é‡æ–°ç™»å½•
npm login

# å¦‚æœåŒ…åå·²å­˜åœ¨ï¼Œéœ€è¦æ›´æ¢åŒ…å
```

### 2. å‘å¸ƒå¤±è´¥ï¼šéœ€è¦ 2FA

å¦‚æœè´¦å·å¯ç”¨äº†ä¸¤æ­¥éªŒè¯ï¼š

```bash
npm publish --otp=123456
```

å°† `123456` æ›¿æ¢ä¸ºæ‚¨çš„ 2FA éªŒè¯ç ã€‚

### 3. ç‰ˆæœ¬å·²å­˜åœ¨

é”™è¯¯ï¼š`You cannot publish over the previously published versions`

è§£å†³ï¼šæ›´æ–°ç‰ˆæœ¬å·åå†å‘å¸ƒ
```bash
npm version patch
npm publish
```

### 4. åŒ…åä¸å¯ç”¨

é”™è¯¯ï¼š`Package name not available`

è§£å†³ï¼šä¿®æ”¹ package.json ä¸­çš„ name å­—æ®µï¼Œä½¿ç”¨ä¸åŒçš„åŒ…å

### 5. æ„å»ºå¤±è´¥

æ£€æŸ¥ï¼š
- Node ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚
- ä¾èµ–æ˜¯å¦å®Œæ•´å®‰è£…ï¼š`npm install`
- æ„å»ºé…ç½®æ˜¯å¦æ­£ç¡®

## ğŸ“ æ›´æ–°å·²å‘å¸ƒçš„åŒ…

å¦‚æœéœ€è¦æ›´æ–°å·²å‘å¸ƒçš„åŒ…ï¼š

```bash
# 1. ä¿®æ”¹ä»£ç 
# 2. æ›´æ–°ç‰ˆæœ¬å·
npm version patch  # æˆ– minor/major

# 3. æ›´æ–° CHANGELOG
# 4. é‡æ–°æ„å»º
npm run build

# 5. é‡æ–°å‘å¸ƒ
npm publish
```

## ğŸ—‘ï¸ æ’¤é”€å‘å¸ƒ

**è­¦å‘Šï¼šæ’¤é”€å‘å¸ƒåº”è¯¥è°¨æ…ä½¿ç”¨**

```bash
# æ’¤é”€ç‰¹å®šç‰ˆæœ¬ï¼ˆå‘å¸ƒå24å°æ—¶å†…ï¼‰
npm unpublish ai-table-components@1.0.0

# æ’¤é”€æ•´ä¸ªåŒ…ï¼ˆå‘å¸ƒå24å°æ—¶å†…ï¼‰
npm unpublish ai-table-components --force
```

**æ³¨æ„ï¼š**
1. åªèƒ½æ’¤é”€ 24 å°æ—¶å†…å‘å¸ƒçš„ç‰ˆæœ¬
2. æ’¤é”€åï¼Œè¯¥ç‰ˆæœ¬å·ä¸èƒ½å†æ¬¡ä½¿ç”¨
3. æ’¤é”€ä¼šå½±å“æ‰€æœ‰ä¾èµ–è¯¥ç‰ˆæœ¬çš„é¡¹ç›®

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ [NPM å®˜æ–¹æ–‡æ¡£](https://docs.npmjs.com/)
2. æœç´¢ [NPM ç¤¾åŒº](https://npm.community/)
3. æäº¤ Issue
4. è”ç³»ç»´æŠ¤è€…

---

**ç¥å‘å¸ƒé¡ºåˆ©ï¼** ğŸ‰
